<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Assignment 4</title>
    <style>

    </style>
</head>

<body>
    <h1 style="text-align: center;">Section (A) | Group-6</h1>
    <fieldset>
        <legend>
            <h2>Student Info</h2>
        </legend>
        <form onsubmit="event.preventDefault();onFormSubmit();">
            <label>Student name</label><br>
            <input type="text" id="stdname" required><br>
            <label>Roll No</label><br>
            <input type="text" id="rno" required><br>
            <label>Academy Year</label><br>
            <input type="text" id="year" required><br>
            <label>Major</label><br>
            <input type="text" id="major" required><br>
            <label>Native Town</label><br>
            <input type="text" id="natown" required><br>
            <label>Current Address</label><br>
            <input type="text" id="curaddress" required><br>
            <label>Edu Mail</label><br>
            <input type="email" id="edumail" required><br>
            <label>Phone No</label><br>
            <input type="tel" id="phno" required><br>
            <input type="submit" value="Add">
        </form>
    </fieldset>
    <fieldset>
        <legend>
            <h2>Student Lists</h2>
        </legend>
        <table id="studentLists">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Roll No</th>
                    <th>Academy Year</th>
                    <th>Major</th>
                    <th>Native Town</th>
                    <th>Current Addr</th>
                    <th>Edu Mail</th>
                    <th>Phno</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
    </fieldset>
    <script type="text/javascript">
        var stdname = document.getElementById("stdname");
        var rno = document.getElementById("rno");
        var year = document.getElementById("year");
        var major = document.getElementById("major");
        var natown = document.getElementById("natown");
        var curaddress = document.getElementById("curaddress");
        var edumail = document.getElementById("edumail");
        var phno = document.getElementById("phno");
        var studentArray = [];


        function Student(name, rno, year, major, natown, curaddress, edumail, phno) {
            this.name = name;
            this.rno = rno;
            this.year = year;
            this.major = major;
            this.natown = natown;
            this.curaddress = curaddress;
            this.edumail = edumail;
            this.phno = phno;
        };

        function onFormSubmit() {
            var formData = readFormData();
            console.log(formData);
            insertNewRecord(formData);
            clearForm();
        };

        function readFormData() {
            studentArray.push(new Student(stdname.value, rno.value, year.value, major.value, natown.value, curaddress.value, edumail.value, phno.value));
            return studentArray;
        };

        function insertNewRecord(data) {
            var table = document.getElementById("studentLists").getElementsByTagName('tbody')[0];
            var newRow = table.insertRow(table.length);
            cell1 = newRow.insertCell(0);
            cell1.innerHTML = data[data.length - 1].name;
            cell2 = newRow.insertCell(1);
            cell2.innerHTML = data[data.length - 1].rno;
            cell3 = newRow.insertCell(2);
            cell3.innerHTML = data[data.length - 1].year;
            cell4 = newRow.insertCell(3);
            cell4.innerHTML = data[data.length - 1].major;
            cell5 = newRow.insertCell(4);
            cell5.innerHTML = data[data.length - 1].natown;
            cell6 = newRow.insertCell(5);
            cell6.innerHTML = data[data.length - 1].curaddress;
            cell7 = newRow.insertCell(6);
            cell7.innerHTML = data[data.length - 1].edumail;
            cell8 = newRow.insertCell(7);
            cell8.innerHTML = data[data.length - 1].phno;
            cell9 = newRow.insertCell(8);
            cell9.innerHTML = `<a>Edit</a><a>Delete</a>`;
        };
        function clearForm() {
            stdname.value = "";
            rno.value = "";
            year.value = "";
            major.value = "";
            natown.value = "";
            curaddress.value = "";
            edumail.value = "";
            phno.value = "";
        }

    </script>
</body>

</html>